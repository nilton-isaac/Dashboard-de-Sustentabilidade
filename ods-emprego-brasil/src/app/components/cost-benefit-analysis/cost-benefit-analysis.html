<!-- Seção Análise de Custo-Benefício -->
<section class="space-y-8">
  <!-- Cabeçalho da Seção -->
  <div class="text-center space-y-3">
    <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-mag-500/15 text-mag-500 text-xs font-medium uppercase tracking-wider">
      <span>ODS 8 • Trabalho Decente</span>
    </div>
    <h2 class="text-3xl font-extrabold text-text-base">Análise de Custo-Benefício</h2>
    <p class="text-text-mute max-w-2xl mx-auto">Compare investimento e retorno financeiro de diferentes áreas profissionais</p>
  </div>

  <!-- Filtros -->
  <div class="flex flex-wrap gap-4 justify-center">
    <select [(ngModel)]="selectedTimeframe" 
            class="px-4 py-2 rounded-lg bg-ink-800/60 border border-white/10 text-text-base focus:outline-none focus:ring-2 focus:ring-mag-500/40 focus:border-mag-500/60">
      <option value="5">5 anos</option>
      <option value="10">10 anos</option>
      <option value="15">15 anos</option>
    </select>
    
    <select [(ngModel)]="selectedEducationLevel" 
            class="px-4 py-2 rounded-lg bg-ink-800/60 border border-white/10 text-text-base focus:outline-none focus:ring-2 focus:ring-mag-500/40 focus:border-mag-500/60">
      <option value="all">Todos os níveis</option>
      <option value="technical">Técnico</option>
      <option value="undergraduate">Superior</option>
      <option value="graduate">Pós-graduação</option>
    </select>
  </div>

  <!-- Cards de Comparação -->
  <div class="grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6">
    <article *ngFor="let area of filteredAreas" 
             class="group rounded-xl p-6 bg-white/5 backdrop-blur border border-white/10 hover:border-mag-500/40 transition-all duration-300 hover:shadow-card">
      <!-- Header do Card -->
      <div class="flex items-center gap-4 mb-6">
        <div class="p-3 rounded-lg bg-gradient-to-br from-mag-500/20 to-cyan-400/20 text-2xl">
          <mat-icon>{{ area.icon }}</mat-icon>
        </div>
        <div>
          <h3 class="font-bold text-text-base group-hover:text-white transition-colors">{{ area.name }}</h3>
          <p class="text-sm text-text-mute">{{ area.category }}</p>
        </div>
      </div>

      <!-- Investimento Inicial -->
      <div class="mb-6">
        <h4 class="flex items-center gap-2 font-semibold text-text-base mb-3">
          <mat-icon class="text-mag-500">attach_money</mat-icon>
          Investimento Inicial
        </h4>
        <div class="space-y-2 p-4 rounded-lg bg-ink-800/40">
          <div class="flex justify-between text-sm">
            <span class="text-text-mute">Formação:</span>
            <span class="font-medium text-text-base">{{ area.costs.education | currency:'BRL':'symbol':'1.0-0' }}</span>
          </div>
          <div class="flex justify-between text-sm">
            <span class="text-text-mute">Materiais:</span>
            <span class="font-medium text-text-base">{{ area.costs.materials | currency:'BRL':'symbol':'1.0-0' }}</span>
          </div>
          <div class="flex justify-between text-sm">
            <span class="text-text-mute">Certificações:</span>
            <span class="font-medium text-text-base">{{ area.costs.certifications | currency:'BRL':'symbol':'1.0-0' }}</span>
          </div>
          <div class="border-t border-white/10 pt-2 mt-2">
            <div class="flex justify-between font-bold">
              <span class="text-text-base">Total:</span>
              <span class="text-mag-400">{{ getTotalCost(area) | currency:'BRL':'symbol':'1.0-0' }}</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Retorno Financeiro -->
      <div class="mb-6">
        <h4 class="flex items-center gap-2 font-semibold text-text-base mb-3">
          <mat-icon class="text-cyan-400">trending_up</mat-icon>
          Retorno em {{ selectedTimeframe }} anos
        </h4>
        <div class="space-y-2 p-4 rounded-lg bg-gradient-to-br from-green-500/10 to-cyan-400/10 border border-green-500/20">
          <div class="flex justify-between text-sm">
            <span class="text-text-mute">Salário inicial:</span>
            <span class="font-medium text-text-base">{{ area.salary.initial | currency:'BRL':'symbol':'1.0-0' }}/mês</span>
          </div>
          <div class="flex justify-between text-sm">
            <span class="text-text-mute">Após {{ selectedTimeframe }} anos:</span>
            <span class="font-medium text-text-base">{{ getProjectedSalary(area) | currency:'BRL':'symbol':'1.0-0' }}/mês</span>
          </div>
          <div class="border-t border-green-500/20 pt-2 mt-2">
            <div class="flex justify-between font-bold">
              <span class="text-text-base">Ganho total:</span>
              <span class="text-green-400">{{ getTotalEarnings(area) | currency:'BRL':'symbol':'1.0-0' }}</span>
            </div>
          </div>
        </div>
      </div>

      <!-- ROI -->
      <div class="mb-6">
        <h4 class="flex items-center gap-2 font-semibold text-text-base mb-3">
          <mat-icon class="text-yellow-400">track_changes</mat-icon>
          ROI
        </h4>
        <div class="flex items-center justify-between mb-3">
          <span class="text-3xl font-extrabold" [class]="getROI(area) > 0 ? 'text-green-400' : 'text-red-400'">
            {{ getROI(area) | number:'1.0-0' }}%
          </span>
          <div class="text-right">
            <div class="text-xs text-text-mute">Payback:</div>
            <div class="text-sm font-bold text-cyan-400">{{ getPaybackTime(area) }} anos</div>
          </div>
        </div>
        <div class="w-full bg-white/10 rounded-full h-2">
          <div class="bg-gradient-to-r from-mag-500 to-cyan-400 h-2 rounded-full transition-all duration-500" 
               [style.width.%]="Math.min(getROI(area) / 10, 100)"></div>
        </div>
      </div>

      <!-- Fatores Qualitativos -->
      <div class="mb-6">
        <h4 class="flex items-center gap-2 font-semibold text-text-base mb-3">
          <mat-icon class="text-yellow-400">star</mat-icon>
          Fatores Qualitativos
        </h4>
        <div class="space-y-2">
          <div class="flex justify-between items-center">
            <span class="text-sm text-text-mute">Estabilidade:</span>
            <div class="flex gap-1">
              <mat-icon *ngFor="let star of getStars(area.qualitative.stability)" class="text-yellow-400 text-sm">star</mat-icon>
            </div>
          </div>
          <div class="flex justify-between items-center">
            <span class="text-sm text-text-mute">Crescimento:</span>
            <div class="flex gap-1">
              <mat-icon *ngFor="let star of getStars(area.qualitative.growth)" class="text-yellow-400 text-sm">star</mat-icon>
            </div>
          </div>
          <div class="flex justify-between items-center">
            <span class="text-sm text-text-mute">Flexibilidade:</span>
            <div class="flex gap-1">
              <mat-icon *ngFor="let star of getStars(area.qualitative.flexibility)" class="text-yellow-400 text-sm">star</mat-icon>
            </div>
          </div>
        </div>
      </div>

      <!-- Recomendação -->
      <div class="text-center">
        <div [class]="'px-4 py-2 rounded-lg text-sm font-medium ' + getRecommendationClass(area)">
          {{ getRecommendation(area) }}
        </div>
      </div>
    </article>
  </div>

  <!-- Gráfico Comparativo -->
  <div class="rounded-xl p-6 bg-white/5 backdrop-blur border border-white/10">
    <h3 class="text-xl font-bold text-text-base mb-6 text-center">Comparação de ROI por Área</h3>
    <div class="flex items-end justify-center gap-4 h-64 px-4">
      <div *ngFor="let area of filteredAreas" class="flex-1 max-w-20 flex flex-col items-center">
        <div class="bg-gradient-to-t from-mag-500 via-cyan-400 to-mag-500 rounded-t w-full transition-all duration-500 hover:opacity-80 cursor-pointer group"
             [style.height.%]="(getROI(area) / maxROI) * 100"
             [title]="area.name + ': ' + getROI(area) + '%'">
          <div class="opacity-0 group-hover:opacity-100 transition-opacity bg-ink-900/90 text-white text-xs p-2 rounded absolute -top-8 left-1/2 transform -translate-x-1/2 whitespace-nowrap">
            {{ area.name }}: {{ getROI(area) }}%
          </div>
        </div>
        <div class="text-xs text-center mt-2 font-medium text-text-base">{{ area.name }}</div>
        <div class="text-xs text-mag-400 font-bold">{{ getROI(area) }}%</div>
      </div>
    </div>
  </div>

  <!-- Dicas de Investimento -->
  <div class="rounded-xl p-6 bg-gradient-to-r from-mag-500/10 to-cyan-400/10 border border-mag-500/20">
    <h3 class="text-xl font-bold text-text-base mb-6 flex items-center gap-2">
      <mat-icon class="text-yellow-400">lightbulb</mat-icon>
      Dicas para Maximizar seu Investimento
    </h3>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div *ngFor="let tip of investmentTips" 
           class="p-4 rounded-lg bg-ink-800/40 border border-white/10 hover:border-mag-500/40 transition-colors">
        <h4 class="font-semibold text-text-base mb-2">{{ tip.title }}</h4>
        <p class="text-sm text-text-mute">{{ tip.description }}</p>
      </div>
    </div>
  </div>
</section>